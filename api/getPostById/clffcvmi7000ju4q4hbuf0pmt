{"type":"getPostById","data":{"title":"网络面试题","date":"2023-03-19T11:48:57.129Z","description":"","categories":[{"name":"网络","_id":"clffcvmhk0004u4q4het76o2o"}],"tags":[{"name":"网络","_id":"clffcvmhn0005u4q4au3o5v4z"}],"content":"<h4 id=\"0-路由器，交换机，网桥，集线器的区别？\"><a href=\"#0-路由器，交换机，网桥，集线器的区别？\" class=\"headerlink\" title=\"0.路由器，交换机，网桥，集线器的区别？\"></a>0.路由器，交换机，网桥，集线器的区别？</h4><ul>\n<li>集线器：一层设备</li>\n<li>网桥：二层设备，基于软件转发，接口少，接口共享设备的转发资源</li>\n<li>交换机：二层设备，基于硬件转发（转发能力强于网桥），接口更多，接口转发资源独立</li>\n<li>路由器：三层设备</li>\n</ul>\n<h4 id=\"1-简述OSI七层模型主要功能？\"><a href=\"#1-简述OSI七层模型主要功能？\" class=\"headerlink\" title=\"1.简述OSI七层模型主要功能？\"></a>1.简述OSI七层模型主要功能？</h4><ul>\n<li>OSI开放式系统互联模型，由国际标准化组织ISO提供；解决数据传输的不兼容性；</li>\n<li>控制层面：<ul>\n<li>应用层：人际交互的接口，将抽象语言转换为编码</li>\n<li>表示层：将编码转换为二进制</li>\n<li>会话层：针对每种数据建立会话虚连接（虚拟存在的，本地想象的）</li>\n</ul>\n</li>\n<li>数据层面：<ul>\n<li>传输层：选择数据的传输方式，区分不同的流量（端口号，0-65535）</li>\n<li>网络层：进行IP地址逻辑寻址和编址</li>\n<li>数据链路层：根据不同的链路类型定义不同的封装协议（链路类型：局域网，广域网）<ul>\n<li>LLC逻辑链路控制子层：保证本层传输的可靠性，描述上层所3使用的协议</li>\n<li>MAC介质访问控制子层： 提供二层地址，控制物理层</li>\n</ul>\n</li>\n<li>物理层：传输电流，规定了一些物理特性</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-描述TCP和UDP协议的主要区别，为什么TCP握手需要三次？\"><a href=\"#2-描述TCP和UDP协议的主要区别，为什么TCP握手需要三次？\" class=\"headerlink\" title=\"2.描述TCP和UDP协议的主要区别，为什么TCP握手需要三次？\"></a>2.描述TCP和UDP协议的主要区别，为什么TCP握手需要三次？</h4><ul>\n<li>TCP传输控制协议：<ul>\n<li>面向连接（三次握手）的可靠的（确认重传机制）有序的（seq序列号）协议</li>\n<li>单播</li>\n<li>适用场景：传输量小，同步要求低，数据丢包敏感</li>\n</ul>\n</li>\n<li>UDP用户数据报协议：<ul>\n<li>无连接的不可靠的无序的协议</li>\n<li>组播和广播</li>\n<li>适用场景：传输量大，同步要求高，，数据丢包不敏感</li>\n</ul>\n</li>\n<li>TCP握手的三次原因：双方都需要建立传输通道，双方都需要进行同步请求</li>\n</ul>\n<h4 id=\"3-什么是DHCP，描述工作过程？\"><a href=\"#3-什么是DHCP，描述工作过程？\" class=\"headerlink\" title=\"3.什么是DHCP，描述工作过程？\"></a>3.什么是DHCP，描述工作过程？</h4><ul>\n<li>DHCP动态主机配置协议，动态的给主机分配IP地址等相关信息的协议</li>\n<li>模型架构为C&#x2F;S</li>\n<li>DHCP相关数据基于UDP封装，端口号为67,68</li>\n<li>DHCP的工作过程：<ul>\n<li>客户端广播DHCP Discover报文，发现DHCP服务，请求IP地址等相关信息（网关，子网掩码，服务器IP地址）</li>\n<li>服务端广播或单播DHCP Offer报文分配客户端IP地址等相关信息</li>\n<li>客户端广播DHCP Request报文标示同意本分配</li>\n<li>服务端广播或单播DHCP ACK报文进行确认</li>\n<li>客户端进行无故ARP检测地址冲突</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"4-什么是ARP，谈谈ARP协议主要功能？\"><a href=\"#4-什么是ARP，谈谈ARP协议主要功能？\" class=\"headerlink\" title=\"4.什么是ARP，谈谈ARP协议主要功能？\"></a>4.什么是ARP，谈谈ARP协议主要功能？</h4><ul>\n<li>ARP地址解析协议，一个IP和MAC转换查询的协议，基于二层封装</li>\n<li>分类：<ul>\n<li>正向ARP：通过对方的IP地址获取对方的MAC地址（触发机制：第一个包封装失败触发ARP）</li>\n<li>反向ARP：通过对方的MAC地址获取对方的IP地址</li>\n<li>逆向ARP：用于帧中继</li>\n<li>无故ARP：进行地址冲突检测</li>\n<li>代理ARP：（没有配置网关IP地址和路由下一跳写出接口的情况）路由器接收到ARP报文，<strong>发现目标 IP地址和其他接口上在同一网段</strong>，将自己接口上的MAC地址封装在数据包二层进行回复。</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"5-什么是广播域，什么是冲突域？\"><a href=\"#5-什么是广播域，什么是冲突域？\" class=\"headerlink\" title=\"5.什么是广播域，什么是冲突域？\"></a>5.什么是广播域，什么是冲突域？</h4><ul>\n<li>广播域：一个广播报文能够到达的范围，相同的网段，路由的每一个接口</li>\n<li>冲突域：交换机的每个接口都是一个冲突域，交换机可以隔离冲突域</li>\n</ul>\n<h4 id=\"6-什么是NAT，有哪些NAT\"><a href=\"#6-什么是NAT，有哪些NAT\" class=\"headerlink\" title=\"6.什么是NAT，有哪些NAT?\"></a>6.什么是NAT，有哪些NAT?</h4><ul>\n<li>NAT网络地址转换，将私有网络访问公有网络，节约IP地址</li>\n<li>分类：一对一，一对多，多对多，端口映射</li>\n</ul>\n<h4 id=\"7-简述IP数据包结构？并解释相对应内容？\"><a href=\"#7-简述IP数据包结构？并解释相对应内容？\" class=\"headerlink\" title=\"7.简述IP数据包结构？并解释相对应内容？\"></a>7.简述IP数据包结构？并解释相对应内容？</h4><table>\n<thead>\n<tr>\n<th>行数</th>\n<th>字段</th>\n<th>位数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>Version版本</td>\n<td>4</td>\n<td>标识版本号</td>\n</tr>\n<tr>\n<td>1</td>\n<td>IP Header Length报文头部长度</td>\n<td>4</td>\n<td>-</td>\n</tr>\n<tr>\n<td>1</td>\n<td>DS Field服务质量</td>\n<td>8</td>\n<td>1.IP优先级方式：3+5，3bit对流量进行标记，111保留，110协议流量，101VOIP；2.DSCP区分服务代码点方式：6+2，6bit进行流量的标记，2bitECN显示拥塞通告；PHP逐条行为：21种行为，EF特快转发，AF确保转发，default，CS分类选择</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Total Length报文总长度</td>\n<td>16</td>\n<td>总长度 &#x3D; IP头头部+TCP&#x2F;UDP头部+数据</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Identification标识符</td>\n<td>16</td>\n<td>用于分片，所有的分片相同</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Flags标记位</td>\n<td>3</td>\n<td>用于分片，R：保留，DF&#x3D;1：分片，MF&#x3D;1：后面还有分片</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Fragment Offset片偏移</td>\n<td>13</td>\n<td>用于分片，分片偏移值</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Time to Live生存时间</td>\n<td>8</td>\n<td></td>\n</tr>\n<tr>\n<td>3</td>\n<td>Protocol协议</td>\n<td>8</td>\n<td></td>\n</tr>\n<tr>\n<td>3</td>\n<td>Header Checksum校验盒</td>\n<td>16</td>\n<td>对数据包头部进行校验</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Source IP Address</td>\n<td>32</td>\n<td></td>\n</tr>\n<tr>\n<td>4</td>\n<td>Destination IP Address</td>\n<td>32</td>\n<td></td>\n</tr>\n</tbody></table>\n<ul>\n<li>IP的头部长度：最小20字节，最大60字节</li>\n</ul>\n<p><img src=\"C:\\Users\\user\\AppData\\Roaming\\Typora\\typora-user-images\\image-20221205144138010.png\" alt=\"image-20221205144138010\"></p>\n<h4 id=\"8-RIP协议的防环机制有哪些？\"><a href=\"#8-RIP协议的防环机制有哪些？\" class=\"headerlink\" title=\"8.RIP协议的防环机制有哪些？\"></a>8.RIP协议的防环机制有哪些？</h4><ul>\n<li><p>最大跳数</p>\n</li>\n<li><p>水平分割：通过此接口学习到的路由不能再从此接口转发出去</p>\n</li>\n<li><p>毒性逆转水平分割：</p>\n<ul>\n<li>当一个路由不可达时，我方发送一个跳数为16跳（毒性）的路由给对方；对方会1.删除对应的路由条目，2.将这条路由原封不动的发送回去确认（逆转水平分割），3.同时将毒化路由扩散出去 ，让其他的路由也删除此路由</li>\n<li>使用的原因：当一个路由不可达时，我方不发送任何信息对方，对方会认为这条路由依然存在，直到抑制计时器180S结束</li>\n</ul>\n</li>\n<li><p>抑制计时器</p>\n</li>\n<li><p>触发更新</p>\n</li>\n</ul>\n<h4 id=\"9-RIP协议的计时器有哪些？\"><a href=\"#9-RIP协议的计时器有哪些？\" class=\"headerlink\" title=\"9.RIP协议的计时器有哪些？\"></a>9.RIP协议的计时器有哪些？</h4><ul>\n<li>更新计时器：每30S发送一次路由</li>\n<li>无效计时器：如果对方不发此路由，等待180S后将路由无效（放在路由不转发表里面）</li>\n<li>垃圾回收计时器：路由无效后等待120S后将路由删除</li>\n</ul>\n<h4 id=\"10-OSPF协议领居关系建立的条件？\"><a href=\"#10-OSPF协议领居关系建立的条件？\" class=\"headerlink\" title=\"10.OSPF协议领居关系建立的条件？\"></a>10.OSPF协议领居关系建立的条件？</h4><ul>\n<li>Router-ID必须不同</li>\n<li>Area-ID必须相同</li>\n<li>认证类型（不认证：0，明文认证：1，MD5：2）</li>\n<li>hello时间</li>\n<li>dead时间</li>\n<li>特殊区域相同（E：代表着是否支持5类LSA，N：是否支持7类LSA）<ul>\n<li>正常区域：E&#x3D;1，N&#x3D;0</li>\n<li>stub区域：E&#x3D;0，N&#x3D;0</li>\n<li>NSSA区域：E&#x3D;0，N&#x3D;1</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"11-什么是ABR？什么是ASBR？\"><a href=\"#11-什么是ABR？什么是ASBR？\" class=\"headerlink\" title=\"11.什么是ABR？什么是ASBR？\"></a>11.什么是ABR？什么是ASBR？</h4><ul>\n<li>ABR边界路由器：能产生3类LSA的路由器；处于Area0和其他Area之间的路由器</li>\n<li>ASBR自治系统边界路由器：能产生5类和7类LSA的路由器；处于OSPF区域和非OSPF区域之间将非OSPF协议的路由引入到OSPF的网络中的路由，将7类LSA转变成5类LSA的路由器</li>\n</ul>\n<h4 id=\"12-OSPF协议消息数据包有哪些？\"><a href=\"#12-OSPF协议消息数据包有哪些？\" class=\"headerlink\" title=\"12.OSPF协议消息数据包有哪些？\"></a>12.OSPF协议消息数据包有哪些？</h4><ul>\n<li>hello：维持邻居关系，保活，DR&#x2F;BDR选举，携带RID</li>\n<li>DBD：主从关系选举，携带LSA目录信息</li>\n<li>LSA</li>\n<li>LSU</li>\n<li>LSACK</li>\n</ul>\n<h4 id=\"13-OSPF协议消息数据包有哪些包需要确认：\"><a href=\"#13-OSPF协议消息数据包有哪些包需要确认：\" class=\"headerlink\" title=\"13.OSPF协议消息数据包有哪些包需要确认：\"></a>13.OSPF协议消息数据包有哪些包需要确认：</h4><ul>\n<li>DBD，LSA，LSU，LSACK都需要确认，前三种是显性确认，后一种是隐形确认</li>\n<li>OSPF中 使用确认回包保证它的可靠性</li>\n</ul>\n<h4 id=\"14-显式确认和隐式确认的区别？\"><a href=\"#14-显式确认和隐式确认的区别？\" class=\"headerlink\" title=\"14.显式确认和隐式确认的区别？\"></a>14.显式确认和隐式确认的区别？</h4><ul>\n<li>显式确认：发了数据必须给确认回包</li>\n<li>隐式确认：seq序列号</li>\n<li>DBD，LSR，LSU使用的是显示确认；LSACK使用的是隐式确认</li>\n</ul>\n<h4 id=\"15-简述OSPF-邻居状态机制：\"><a href=\"#15-简述OSPF-邻居状态机制：\" class=\"headerlink\" title=\"15.简述OSPF 邻居状态机制：\"></a>15.简述OSPF 邻居状态机制：</h4><ol>\n<li>Down：</li>\n<li>Init初始化：一旦发送了hello包，进入Init状态；然后等待一个dead时间，如果无法进入下一个状态，退回Down状态</li>\n<li>Two-way双向通讯：收到的hello包中包含了自己路由器的RID进入Two-way状态，然后进行DR&#x2F;BDR的选举（参选优先级，RID）</li>\n<li>Exstart预启动：一旦发送DBD报文，进入Exstart状态；然后进行主从关系的选举（router-id大的一方为主）</li>\n<li>Exchange准交换：主从选举完成，发送DBD数据库描述包（包含LSA的目录信息），进入Exchange状态</li>\n<li>Loading加载：一旦发送LSU链路状态更新报文，进入Loading加载</li>\n<li>Full：请求列表和重传列表清空，双方都学到了对方的LSA信息，进入Full状态</li>\n</ol>\n<h4 id=\"16-OSPF-邻居关系建立卡在不同的状态可能是什么样的原因导致的？例如init\"><a href=\"#16-OSPF-邻居关系建立卡在不同的状态可能是什么样的原因导致的？例如init\" class=\"headerlink\" title=\"16.OSPF 邻居关系建立卡在不同的状态可能是什么样的原因导致的？例如init\"></a>16.OSPF 邻居关系建立卡在不同的状态可能是什么样的原因导致的？例如init</h4><ul>\n<li>Init状态：路由器收到的hello包中没有自己路由器的RID时，一个dead时间后退回Down；例：验证只有某一边开启，ACL在某一边阻止了Hello包</li>\n<li>Two-way状态：网络中无法选举DR&#x2F;BDR，路由器上都配置了优先级为0</li>\n<li>Exstart状态：开启了MTU协商，但最大传输单元MTU不一致</li>\n<li>Exchange状态：开启了MTU协商，但最大传输单元MTU不一致</li>\n<li>Loading状态：需要学习的LSA超过自己存储LSA的容量</li>\n</ul>\n<h4 id=\"16-OSPF区域划分的好处是？\"><a href=\"#16-OSPF区域划分的好处是？\" class=\"headerlink\" title=\"16.OSPF区域划分的好处是？\"></a>16.OSPF区域划分的好处是？</h4><ul>\n<li>减少LSA的数量，限制传播范围；即优化OSPF协议</li>\n</ul>\n<h4 id=\"17-OSPF-外部路由-1类型和2类型的区别是？一类型和二类型的路由在选路中出现如何比较？\"><a href=\"#17-OSPF-外部路由-1类型和2类型的区别是？一类型和二类型的路由在选路中出现如何比较？\" class=\"headerlink\" title=\"17.OSPF 外部路由 1类型和2类型的区别是？一类型和二类型的路由在选路中出现如何比较？\"></a>17.OSPF 外部路由 1类型和2类型的区别是？一类型和二类型的路由在选路中出现如何比较？</h4><ul>\n<li>类型1：在路由传递过程中显示度量值</li>\n<li>类型2：在路由传递过程中不显示度量值</li>\n<li>选路中：类型一优于类型二；类型一之间比较的种子度量值和传递过程中度量值的总和；类型二之间先比较的种子度量值，再比较传递过程中度量值的</li>\n</ul>\n<h4 id=\"18-OSPF-nssa-区域有哪些LSA\"><a href=\"#18-OSPF-nssa-区域有哪些LSA\" class=\"headerlink\" title=\"18.OSPF nssa 区域有哪些LSA?\"></a>18.OSPF nssa 区域有哪些LSA?</h4><ul>\n<li>NSSA区域：not so stub area区域</li>\n<li>一类LSA，二类LSA，三类LSA，七类LSA</li>\n</ul>\n<h4 id=\"19-两台路由器通过直连链路，建立-OSPF-邻居，那么在一边使用-P2P，而一边使用-P2MP-的情况下，能正常建立到邻接状态么-如果一边使用P2P，一边使用BMA，能否建立邻接关系？\"><a href=\"#19-两台路由器通过直连链路，建立-OSPF-邻居，那么在一边使用-P2P，而一边使用-P2MP-的情况下，能正常建立到邻接状态么-如果一边使用P2P，一边使用BMA，能否建立邻接关系？\" class=\"headerlink\" title=\"19.两台路由器通过直连链路，建立 OSPF 邻居，那么在一边使用 P2P，而一边使用 P2MP 的情况下，能正常建立到邻接状态么?如果一边使用P2P，一边使用BMA，能否建立邻接关系？\"></a>19.两台路由器通过直连链路，建立 OSPF 邻居，那么在一边使用 P2P，而一边使用 P2MP 的情况下，能正常建立到邻接状态么?如果一边使用P2P，一边使用BMA，能否建立邻接关系？</h4><ul>\n<li>P2P和P2MP：P2P网络类型（hello10S，dead time 40S），P2MP网络类型（hello 30S，dead time 120S），无法建立邻居关系，所以无法建立邻接关系；如果想建立邻接关系，可以修改hello时间和dead时间</li>\n<li>P2P和BMA：P2P网络类型（不需要进行DR&#x2F;BDR选举，hello10S，dead time 40S），BMA网络类型（需要进行DR&#x2F;BDR选举，hello10S，dead time 40），可以建立邻居关系，所以可以建立邻接关系；但是无法学习到对应的路由，因为双方的算法是无法运作的</li>\n</ul>\n<h4 id=\"21-OSPF-NBMA网络类型需要配置些什么？NBMA网络类型中hub（中心）-spoke（分支）网络结构下需要配置什么\"><a href=\"#21-OSPF-NBMA网络类型需要配置些什么？NBMA网络类型中hub（中心）-spoke（分支）网络结构下需要配置什么\" class=\"headerlink\" title=\"21.OSPF NBMA网络类型需要配置些什么？NBMA网络类型中hub（中心）-spoke（分支）网络结构下需要配置什么?\"></a>21.OSPF NBMA网络类型需要配置些什么？NBMA网络类型中hub（中心）-spoke（分支）网络结构下需要配置什么?</h4><ul>\n<li>NBMA网络配置：NBMA中没有广播和组播，不能建立邻居关系，需要手工指定peer</li>\n<li>hub-spoke网络结构配置：指定DR位置为hub端</li>\n</ul>\n<h4 id=\"22-OSPF-stub末梢区域的作用？\"><a href=\"#22-OSPF-stub末梢区域的作用？\" class=\"headerlink\" title=\"22.OSPF stub末梢区域的作用？\"></a>22.OSPF stub末梢区域的作用？</h4><ul>\n<li>在末梢区域内可以限制4类LSA和5类LSA的进入</li>\n<li>没有ASBR，产生3类的缺省</li>\n<li>不能做虚链路</li>\n</ul>\n<h4 id=\"23-OSPF-协议是纯链路状态型协议吗？\"><a href=\"#23-OSPF-协议是纯链路状态型协议吗？\" class=\"headerlink\" title=\"23.OSPF 协议是纯链路状态型协议吗？\"></a>23.OSPF 协议是纯链路状态型协议吗？</h4><ul>\n<li>不是，区域内是纯链路状态型，区域之间是距离矢量</li>\n</ul>\n<h4 id=\"24-简述OSPF-几种LSA的主要功能？\"><a href=\"#24-简述OSPF-几种LSA的主要功能？\" class=\"headerlink\" title=\"24.简述OSPF 几种LSA的主要功能？\"></a>24.简述OSPF 几种LSA的主要功能？</h4><ol>\n<li>一类LSA：本路由器针对某个区域产生的路由信息和拓扑信息，传播范围：本区域内</li>\n<li>二类LSA：对一类LSA传递的信息进行补充（路由器数量和网络掩码），只有在DR&#x2F;BDR的选举中，传播范围：本区域内</li>\n<li>三类LSA：区域之间传递路由，传播范围：区域之间</li>\n<li>四类LSA：通告ASBR的位置，传播范围：除了ASBR所在区域</li>\n<li>五类LSA：传递外部路由，传播范围：整个OSPF区域</li>\n<li>七类LSA：在NSSA区域中，传递外部路由</li>\n</ol>\n<h4 id=\"25-OSPF协议中如何限制LSA的数量？\"><a href=\"#25-OSPF协议中如何限制LSA的数量？\" class=\"headerlink\" title=\"25.OSPF协议中如何限制LSA的数量？\"></a>25.OSPF协议中如何限制LSA的数量？</h4><ul>\n<li>汇总</li>\n<li>配置特殊区域</li>\n<li>合理划分网段</li>\n</ul>\n<h4 id=\"26-OSPF区域设计原则？\"><a href=\"#26-OSPF区域设计原则？\" class=\"headerlink\" title=\"26.OSPF区域设计原则？\"></a>26.OSPF区域设计原则？</h4><ul>\n<li>OSPF网络必须存在并且唯一的骨干区域（单区域除外）</li>\n<li>若存在非骨干区域的话，非骨干区域必须与骨干区域直接相连</li>\n</ul>\n<h4 id=\"27-IBGP-为什么采用全互联？不采用怎么部署？\"><a href=\"#27-IBGP-为什么采用全互联？不采用怎么部署？\" class=\"headerlink\" title=\"27.IBGP 为什么采用全互联？不采用怎么部署？\"></a>27.IBGP 为什么采用全互联？不采用怎么部署？</h4><ul>\n<li>原因：IBGP邻居之间只传一跳原则</li>\n<li>部署：<ul>\n<li>IBGP联邦</li>\n<li>IBGP反射器</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"28-如果BGP-加上max-path-，会在那个BGP-选路属性之前应用这个选项？\"><a href=\"#28-如果BGP-加上max-path-，会在那个BGP-选路属性之前应用这个选项？\" class=\"headerlink\" title=\"28.如果BGP 加上max-path ，会在那个BGP 选路属性之前应用这个选项？\"></a>28.如果BGP 加上max-path ，会在那个BGP 选路属性之前应用这个选项？</h4><ul>\n<li>优选最小Router-id 属性前面</li>\n</ul>\n<h4 id=\"29-谈谈BGP-路由反射的特点？\"><a href=\"#29-谈谈BGP-路由反射的特点？\" class=\"headerlink\" title=\"29.谈谈BGP 路由反射的特点？\"></a>29.谈谈BGP 路由反射的特点？</h4><ul>\n<li>非非不传（非客户端收到的路由不能传递给其他的非客户端）</li>\n<li>打破水平分割</li>\n</ul>\n<h4 id=\"30-什么是IBGP-同步？-为什么现在的BGP默认都是关闭的？\"><a href=\"#30-什么是IBGP-同步？-为什么现在的BGP默认都是关闭的？\" class=\"headerlink\" title=\"30.什么是IBGP 同步？ 为什么现在的BGP默认都是关闭的？\"></a>30.什么是IBGP 同步？ 为什么现在的BGP默认都是关闭的？</h4><ul>\n<li>指 IBGP 和IGP路由 之间的同步，其目的是为了避免出现误导外部AS 路由器的现象发生</li>\n<li>原因：<ul>\n<li>在BGP同步打开的情况下，一个BGP路由器不会把这些通过IBGP邻居学习到的BGP路由通告给自己的EBGP邻居</li>\n<li>除非自己的IGP路由表中存在这些路由，才可以向EBGP路由通告</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"31-BGP协议和IGP协议的区别？\"><a href=\"#31-BGP协议和IGP协议的区别？\" class=\"headerlink\" title=\"31.BGP协议和IGP协议的区别？\"></a>31.BGP协议和IGP协议的区别？</h4><ul>\n<li>BGP外部网关协议：</li>\n<li>IGP内部网关协议：路由的收敛速度快，</li>\n</ul>\n<h4 id=\"32-BGP选路规则？\"><a href=\"#32-BGP选路规则？\" class=\"headerlink\" title=\"32.BGP选路规则？\"></a>32.BGP选路规则？</h4><ul>\n<li>权重值</li>\n<li>本地优先级</li>\n<li>下一跳为本地</li>\n<li>AS-path</li>\n<li>起源属性</li>\n<li>度量值</li>\n<li>优先学习EBGP的路由</li>\n<li>优选AS中IGP路由度量最小的</li>\n<li>优选簇ID表最短的</li>\n<li>优选起源者ID最小的</li>\n<li>优先RID最小路由器发布的路由</li>\n<li>优选IP地址最小邻居的路由</li>\n</ul>\n<h4 id=\"33-EBGP-邻居的防环机制？IBGP邻居的防环机制？\"><a href=\"#33-EBGP-邻居的防环机制？IBGP邻居的防环机制？\" class=\"headerlink\" title=\"33.EBGP 邻居的防环机制？IBGP邻居的防环机制？\"></a>33.EBGP 邻居的防环机制？IBGP邻居的防环机制？</h4><ul>\n<li>EBGP：利用AS-Path属性，接收到路由条目中，若出现本地的AS编号记录将拒绝接收该条目</li>\n<li>IBGP：IBGP只传一跳原则，起源者属性，簇ID，next-hop</li>\n</ul>\n<h4 id=\"34-BGP-路由反射如何防环？\"><a href=\"#34-BGP-路由反射如何防环？\" class=\"headerlink\" title=\"34.BGP 路由反射如何防环？\"></a>34.BGP 路由反射如何防环？</h4><ul>\n<li>起源者属性，簇ID</li>\n</ul>\n<h4 id=\"35-PPP-协议过程是？\"><a href=\"#35-PPP-协议过程是？\" class=\"headerlink\" title=\"35.PPP 协议过程是？\"></a>35.PPP 协议过程是？</h4><ul>\n<li>ppp点对点协议，<strong>华为设备默认</strong>串口封装技术，HDLC的升级版（HDLC不支持认证）</li>\n<li>工作过程：<ol>\n<li>LCP链路控制协议协商：检测链路封装均为PPP，同时测试链路的连通性</li>\n<li>PPP认证：增加PPP会话的安全性，分类：PAP，CHAP</li>\n<li>NCP网络控制协议协商：协商上层（网络层）使用的协议；在协商期间，发送自己的IP地址，将对方的IP地址以主机路由的方式加入在路由表中</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"36-Chap-认证过程？\"><a href=\"#36-Chap-认证过程？\" class=\"headerlink\" title=\"36.Chap 认证过程？\"></a>36.Chap 认证过程？</h4><ul>\n<li>chap挑战握手认证协议，使用MD5的认证方式进行三次握手的认证协议</li>\n<li>认证过程：（主认证方需要被认证方提供用户名和密码）<ol>\n<li>第一次握手：主认证方发送随机值给被被认证方</li>\n<li>第二次握手：被认证方基于随机值进行MD5运算得出MD5值，然后以明文发送自己得用户名和MD5值给主认证方（挑战）</li>\n<li>第三次握手：主认证方根据被认证发送的用户名，查看对应的密码，将密码和随机值进行MD5运算；然后比较自己计算的MD5值和被认证方发送的MD5值；如果相等，回复被认证方success</li>\n</ol>\n</li>\n</ul>\n","_path":"2023/03/19/1.网络基础/9.网络面试题/","_link":"https://example.com/2023/03/19/1.%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/9.%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/","_id":"clffcvmi7000ju4q4hbuf0pmt"}}